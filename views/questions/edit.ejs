<% include ../partials/header %>

<div class="main">
    
    <div class="header">
        <h2 class="category">Edit a question</h1>
    </div>
    
    <div class="ui text container">
        <form class="ui form" action="/questions/<%= question._id %>?_method=PUT" method="POST">
            
            <div class="field">
                <p class="label">
                    <label>Category</label>
                </p>
                <input type="text" value="<%= question.category %>" name="question[category]">
            </div>
            
            <div class="field">
                <p class="label">
                    <label>Question</label>
                </p>
                <textarea rows="2" name="question[question]"><%= question.question %></textarea>
            </div>
            
            <div class="field" id="dynamicInput">
                
                <p class="label">
                    <label>Acceptable answer(s)</label>
                </p>
                <% question.answer.forEach(function(correctAnswer){ %>

                    
                    <input id="answerField" type="text" value="<%= correctAnswer %>" name="question[answer]">
  
                <% }) %>
            </div>
            
            <div class="field"></div>
            
            <button id="addButton" class="ui blue button" type="button" onClick="addInput('dynamicInput');"><i class="plus icon"></i>Add additional answer</button>

            <div class="field"></div>
            <div class="field">
                <p class="label">
                    <label>Image (URL)</label>
                </p>
                <input type="text" value="<%= question.media %>" name="question[media]">
            </div>
            
            <button class="ui green button">Update question</button>
            <a href="/questions" class="ui red button">Cancel changes</a>
            
        </form>
    </div>
    
</div>


<script src="/js/addInput.js" language="Javascript" type="text/javascript"></script>
<% include ../partials/footer %>